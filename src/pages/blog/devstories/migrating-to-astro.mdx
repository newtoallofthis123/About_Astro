---
title: Migrating My Site To Astro
date: 2023-06-24
author: Ishan
image: /assets/blog/images/astro.webp
layout: "../../../layouts/post.astro"
category: development
description: I recently migrated my site from Next.js to Astro. In this post, I'll be talking about why I did that and how I did that.
tags: ["development", "cloud", "maintenance"]
theme: chill_black
---

It feels good doesn't it? You've just finished building your website and you're ready to show it off to the world. You've got your domain, your hosting, and your site is live.
When we as developers build a website, we expect it to work seamlessly for the rest of time.
Now this might be true for a static website, which is hosted on a CDN and doesn't have any backend code.
However, most sites now a days are dynamic, and have some sort of backend code, which is where the complexities of maintainance come in.
Now it is not really the backend which is to blame. I sometimes find even the frontend to be a pain to maintain.
Especially the front ends which are built using meta frameworks like Gatsby, Next, Nuxt, etc.
Dynamic and interactive websites are great, but they come with a cost.

This was when my site was built using Next.js and I was using a custom CMS I made using MonoDB to manage the content.
Now this was a very small dynamicity, but it was still a pain to maintain.
I also had to make sure that I don't exceed the free tier of MongoDB Atlas, which was a pain.
I had to make all sort of changes to the SWR hooks to make sure that the site doesn't make too many requests to the database.
After all this too, the site was rather slow at times and on top of that, the site was 500GB in size.

This was partly why I decided to move to a static site generator like Astro.
I retained a bit of the legacy custom CMS code and integrated it with Astro.
However, the rest of it was a combination of just markdown files and a bit of React.
This approach has served me quite well till now and in this post I'll be talking about how I maintain my site.
My approach however, might not be the best fit for you, so I'll also be talking about some other approaches you can take.
So, with that intro out of the way, let's get started.

## Identify The Pain Points

In any analysis, the first step is to identify the pain points.
Now, you might multiple pain points in your site, but you need to identify the ones which are the most important.
So pain points I found in my site were:

1. Migrating from page/ to app/ in Next.js
2. The messy scss
3. Long repetitive code
4. Really slow build times
5. Easily Breakable code

Now these all might sound sort of a given, but let me explain why these were pain points for me.
First off, with the release of Next.js 13.4 and the release of the app/ directory, I had to migrate my site from page/ to app/.
This was easier said then done, as I had a lot of problems with the messy scss my was using.
This led me to using weird React hooks to make sure that the site was responsive.
It was now a pain to migrate to the new server components, as I had to make sure that the site was responsive.
This led to a whole lot of making new directories, layouts and components.
I actually did the whole thing before finally deciding that this site was not worth maintaining.
This is what the final result would be if you don't take proper steps to write clean and maintainable code.

You might have different pain points, but these were the ones I had, which turn out to be quite common in Next.js sites.
So, let's talk about how I solved these pain points.

## How I Solved These Pain Points

The first pain point was the migration from page/ to app/.
This was solved de facto by moving to Astro.
Astro has a much cleaner syntax and a much cleaner way of doing things.
It uses the concept of islands, which are basically components.
These islands can be used to create layouts, pages, and components.
This is a much cleaner way of doing things, as you don't have to worry about the messy scss.
You can just use the built in classes to style your site.
This was perfect for me, so I decided to move to Astro.

The second pain point was the messy scss.
The main issue I faced was that I had written a lot of weird React Hooks to manage the responsiveness of the site.
This was primarily because I was writing bad css and scss.
So, for my new site, I decided to use Tailwind CSS.
I had used tailwindcss in the past, but I didn't really enjoyed it.
However, I decided to give it another shot and I'm glad I did.
I now use Tailwind CSS as my de facto css framework.

The third pain point was the long repetitive code.
This was solved by using the concept of islands in Astro.
I now have a layout for my blog posts, a layout for my projects, and a layout for my home page.
This has made my code much cleaner and much more maintainable.
I also have a layout for my 404 page, which is a nice touch.
Tailwind CSS also helps with this, as I don't have to write long repetitive css code.
I can just use the built in classes to style my site.

The fourth pain point was the really slow build times.
This was solved by using Astro.
Astro has a really fast build time, which is a huge plus.
It also has a really fast dev server, which is also a huge plus.
This has made my development process much faster and much more enjoyable.
I can now make changes to my site and see them instantly.
The build time was very slow in Next.js, which was a huge pain.

The fifth pain point was the easily breakable code.
Till now, Astro has been really good at this.
I haven't had any issues with the code breaking.
Tailwind CSS also helps with this, as I don't have to worry about the css breaking.
All in all, Astro is an amazing framework and I'm glad I decided to use it.

## Deploying The Switch

Now that I had decided to move to Astro, I had to figure out how to deploy it.
I had initally planned on using netlify and I had even set up a netlify.toml file.
But, I decided to go with Vercel, as I found it to be much easier to use.

I had to make a few changes to my site to make it work with Vercel.
Which was relatively very easy.
All you had to do is the vercel's server adapter and you're good to go.
Which you can do by running the following command:

```bash
npx astro add vercel
```

It's that simple.
The vercel server adapter, however, only starts to work when you deploy your site.
So, you'll have to deploy your site to see it in action.
When you are developing locally, you can use the default server adapter, which is the node server adapter.

## So, is Astro it?

Well, it is hard to say.
I have been using Astro for a while now and I have to say, I'm really enjoying it.
It had been far easier to maintain my site with Astro than it was with Next.js.
However, this is true for a site with very little dynamicity.
When I am working on a site with a lot of dynamicity, I will probably use Next.js.
It is just easier to do so.

However, if you are working on a site with very little dynamicity, Astro is the way to go.
It is much easier to maintain and it is much easier to deploy.
Moreover, if you site has no dynamicity at all, you can also deploy it as a static site.
This is a huge plus, as you don't have to worry about the server costs.
You can just deploy it as a static site and you're good to go.

However, I can't say that Astro is the best framework out there.
The JavaScript ecosystem is huge and there are a lot of frameworks out there.
It is continuously evolving and there are a lot of new frameworks coming out every day.
So, my advice would be to try out a few frameworks and see which one works best for you.
The thing however, is that with so many frameworks out there, it is quite easy to migrate from one to another.
This is because most of the frameworks use the same concepts.
So, if you know one framework, you can easily migrate to another.

## Conclusion

So, that's it for this post.
I know this post was relatively weird, but I just wanted to share my experience with Astro.
The main takeaway from this post is that you should try out a few frameworks and see which one works best for you.
Also, I hope my method of identifying pain points and solving them was helpful.
If you have any questions, feel free to reach out to me on [Twitter](https://twitter.com/noobscience1).
Also, if you want to check out my site which I built using Astro, you can do so [here](https://beta.noobscience.rocks).

Thanks for reading, Hope you have a great day!